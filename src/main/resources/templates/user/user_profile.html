<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

<!-- templates/fragments/user_dropdown.html -->
<div th:fragment="userDropdown">
  <!-- Alpine.js for dropdown -->
  <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>

  <div class="flex items-center space-x-4">
    
    <!-- Avatar Dropdown -->
    <div x-data="{ open: false }" class="relative">
      <button
        @click="open = !open"
        class="w-10 h-10 rounded-full bg-rose-300 dark:bg-rose-400 text-white flex items-center justify-center text-lg font-bold focus:outline-none"
      >
        <span th:text="${name.substring(0,1)}">T</span>
      </button>

      <!-- Dropdown Menu -->
  
     
    <div
        x-show="open"
        @click.away="open = false"
        class="absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg z-50"
    >
    <div class="px-1 py-2 text-sm text-gray-800 dark:text-white border-b border-gray-200 dark:border-gray-600">
    <a href="#"
        class="flex items-center gap-2 p-3 rounded-lg transition-colors duration-200 
                text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
    
    <svg class="shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 18">
                  <path d="M14 2a3.963 3.963 0 0 0-1.4.267 6.439 6.439 0 0 1-1.331 6.638A4 4 0 1 0 14 2Zm1 9h-1.264A6.957 6.957 0 0 1 15 15v2a2.97 2.97 0 0 1-.184 1H19a1 1 0 0 0 1-1v-1a5.006 5.006 0 0 0-5-5ZM6.5 9a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9ZM8 10H5a5.006 5.006 0 0 0-5 5v2a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-2a5.006 5.006 0 0 0-5-5Z"/>
               </svg>

    <!-- Email -->
    <span th:text="${email}"
          class="text-gray-600 dark:text-gray-300 group-hover:text-black dark:group-hover:text-white transition-colors duration-200">
      user@example.com
    </span>
  </a>
</div>
 
   <!-- ######## -->
        <form th:action="@{/logout}" method="post">

    <div class="px-1 py-1 text-sm text-gray-800 dark:text-white border-b border-gray-200 dark:border-gray-600">
        <button type="submit"
            class="flex items-center gap-2 p-3 rounded-lg transition-colors duration-200 
                text-red-600 dark:text-red-600 dark:hover:text-white hover:bg-red-700 hover:text-white dark:hover:bg-red-700 group w-full">
<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15m-3 0-3-3m0 0 3-3m-3 3H15" />
</svg>
   Logout
    </button>
  </div>
        </form>
      </div>
    </div>
   </div>
  </div>
</div>
