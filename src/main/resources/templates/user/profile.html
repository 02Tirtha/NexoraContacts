<!DOCTYPE html>
<html lang="en" th:replace="~{base::parent(~{::title},~{::#mainContent},~{::script},~{})}"  >
<head>
     <title th:text="${name}+ ' | Nexora'">Profile Page</title>
     <!-- <script src="https://cdn.tailwindcss.com"></script> -->
     
<script src="https://cdn.tailwindcss.com"></script>

     <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        'primary': '#3B82F6',
                        'secondary': '#8B5CF6',
                        'accent': '#10B981',
                        'dark-card': '#1f2937',
                        'dark-bg': '#111827',
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.6s ease-in-out',
                        'slide-up': 'slideUp 0.5s ease-out',
                        'bounce-subtle': 'bounceSubtle 2s infinite',
                        'pulse-slow': 'pulse 3s infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(30px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' }
                        },
                        bounceSubtle: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-5px)' }
                        }
                    }
                }
            }
        }
    </script>
</head>
<body>
    
    <div id="mainContent" class="transition-all duration-300 animate-fade-in">
        
             <!-- Profile Card Container -->
        <div id="profileContainer" class="min-h-screen transition-all duration-500 bg-gradient-to-br from-gray-50 to-gray-100 py-4 sm:py-8 px-3 sm:px-4 lg:px-6">
            <div class="max-w-6xl mx-auto">
              
                <!-- Main Profile Card -->
                <div class="rounded-3xl shadow-2xl overflow-hidden transition-all duration-500 bg-white dark:bg-gray-800 hover:shadow-3xl animate-slide-up">
                    <!-- Header with enhanced gradient background -->
                    <div class="relative h-36 sm:h-40 bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 overflow-hidden">
                        <div class="absolute inset-0 bg-black bg-opacity-20"></div>
                        <!-- Animated background pattern -->
                        <div class="absolute inset-0 opacity-30">
                            <div class="absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white to-transparent animate-pulse"></div>
                        </div>
                                               
                    </div>

                    <!-- Profile Content -->
                    <div class="relative px-4 sm:px-6 mt-20 lg:px-8 pb-8 ">
                        <!-- Enhanced Profile Picture -->
                        <div class="flex justify-center -mt-18 mb-6">
                            <div class="relative group">
                                
                                <!-- ####### -->
                              <div class="w-32 h-32 sm:w-36 sm:h-36 rounded-full border-4 border-white dark:border-gray-700 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 shadow-2xl flex items-center justify-center transition-all duration-300 group-hover:scale-105 relative">
    <div class="absolute inset-0 bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-full"></div>
    
    <!-- Contact initial inside circle -->
  <div class="relative z-10 text-4xl sm:text-5xl font-bold text-gray-500 dark:text-gray-300"
     th:text="${firstName != null ? firstName.substring(0, 1).toUpperCase() : name.substring(0, 1).toUpperCase()}">
</div>

</div>

                                <!-- Online status indicator -->
                                <div class="absolute bottom-2 right-2 w-6 h-6 bg-green-500 rounded-full border-2 border-white dark:border-gray-700 flex items-center justify-center">
                                    <div class="w-3 h-3 bg-green-400 rounded-full animate-ping"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Enhanced User Info -->
                        <div class="text-center mb-8">
                            <div th:if="${name != null}">
                                <h1 class="text-3xl sm:text-4xl font-bold mb-2 text-gray-900 dark:text-white">
                                    <span th:text="${firstName != null ? firstName : name}">John</span>
                                    <span th:text="${lastName != null ? lastName : ''}">Doe</span>
                                </h1>
                                
                                <!-- User ID with copy functionality -->
                                <div class="inline-flex items-center space-x-2 mb-4">
                                    <!-- <p class="text-sm font-medium text-gray-600 dark:text-gray-400"> -->
<!-- <div th:object="${user}">
    <span th:text="*{id}">USR001</span>
</div> -->
                                    <!-- </p>
                                    <button onclick="copyUserId()" class="p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
                                        <svg class="w-4 h-4 text-gray-500 dark:text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                                        </svg>
                                    </button> -->
                                </div>
                                
                                <!-- Enhanced Welcome Message -->
                                 
                                <div class="max-w-3xl mx-auto p-4 sm:p-6 rounded-2xl bg-gradient-to-r from-blue-50 to-purple-50 dark:from-gray-700 dark:to-gray-600 mb-6 border border-blue-100 dark:border-gray-600">
                                   
                                    <p class="text-sm sm:text-base leading-relaxed text-gray-700 dark:text-gray-200">
                                        <span class="font-semibold text-blue-600 dark:text-blue-400">Welcome back</span>
                                        <span th:text="', ' + ${name} + '! '">, John! </span>
                                        You are successfully logged in to your Nexora account. Enjoy your personalized experience!
                                    </p>
                                </div>

                
                            </div>
                            
                            <!-- Enhanced fallback for when user is not logged in -->
                            <div th:unless="${name != null}" class="text-center p-8">
                                <div class="w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-blue-500 to-purple-500 rounded-2xl flex items-center justify-center">
                                    <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                    </svg>
                                </div>
                                <h1 class="text-3xl sm:text-4xl font-bold mb-2 text-gray-900 dark:text-white">Welcome to Nexora</h1>
                                <p class="text-base text-gray-600 dark:text-gray-400 mb-6">Please log in to view your profile</p>
                                <button class="px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-300">
                                    Login Now
                                </button>
                            </div>
                        </div>

                        <!-- Enhanced Contact Information Grid -->
                        <div class="mb-8" th:if="${email != null or phoneNum != null}">
                            <!-- Enhanced Email Card -->
                            <div class="group p-4 sm:p-6 rounded-2xl border-2 mx-auto max-w-3xl transition-all duration-300 hover:shadow-lg bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-700 border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-500 hover:scale-105" th:if="${email != null}">
                                <div class="flex items-center space-x-4">
                                    <div class="p-3 sm:p-4 rounded-2xl bg-gradient-to-br from-blue-100 to-blue-200 dark:from-blue-900 dark:to-blue-800 text-blue-600 dark:text-blue-400 group-hover:scale-110 transition-transform">
                                        <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M1.5 8.67v8.58a3 3 0 003 3h15a3 3 0 003-3V8.67l-8.928 5.493a3 3 0 01-3.144 0L1.5 8.67z"/>
                                            <path d="M22.5 6.908V6.75a3 3 0 00-3-3h-15a3 3 0 00-3 3v.158l9.714 5.978a1.5 1.5 0 001.572 0L22.5 6.908z"/>
                                        </svg>
                                    </div>
                                    <div class="flex-1 min-w-0 ">
                                        <h3 class="font-semibold  text-gray-900 dark:text-white">Email Address</h3>
                                        <p class="text-sm sm:text-base text-gray-600 dark:text-gray-400 truncate" th:text="${email}">user@example.com</p>
                                    </div>
                                    <button onclick="copyEmail()" class="opacity-0 group-hover:opacity-100 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-all">
                                        <svg class="w-4 h-4 text-gray-500 dark:text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                            <!-- Enhanced Phone Card -->
                            <!-- <div class="group p-4 sm:p-6 rounded-2xl border-2 transition-all duration-300 hover:shadow-lg bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-700 border-gray-200 dark:border-gray-600 hover:border-green-300 dark:hover:border-green-500 hover:scale-105" th:if="${user != null and user.phoneNum != null}">
                                <div class="flex items-center space-x-4">
                                 <div class="p-3 sm:p-4 rounded-2xl bg-gradient-to-br from-green-100 to-green-200 dark:from-green-900 dark:to-green-800 text-green-600 dark:text-green-400 group-hover:scale-110 transition-transform">
                                   <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="currentColor" viewBox="0 0 24 24">
                                            <path fill-rule="evenodd" d="M1.5 4.5a3 3 0 013-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 01-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.285 11.285 0 006.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.875 1.875 0 011.955-.694l4.423 1.105c.834.209 1.42.959 1.42 1.82V19.5a3 3 0 01-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 6.75V4.5z" clip-rule="evenodd"/>
                                        </svg>
                                    </div>
                                
                                </div>
                            </div> -->
                        </div>

                        <!-- Enhanced Action Buttons -->
                        <div class="flex  justify-center">
                            <button onclick="editProfile()" class="px-8 py-3 bg-indigo-600 border-2 border-gray-700 hover:bg-indigo-700 text-white rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105">
                                <span class="flex items-center justify-center space-x-2">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
                                    </svg>
                                    <span>Edit Profile</span>
                                </span>
                            </button>
                            <!-- <button onclick="viewSettings()" class="px-8 py-3 rounded-xl font-semibold transition-all duration-300 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600 hover:scale-105">
                                <span class="flex items-center justify-center space-x-2">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                    </svg>
                                    <span>Settings</span>
                                </span>
                            </button> -->
                        </div>
                    </div>
                </div>

                <!-- Enhanced Additional Info Cards -->
                <div class=" sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mt-8">
                    <!-- Enhanced Status Card -->
                    <div class="group p-4 sm:p-6 rounded-2xl shadow-lg bg-white dark:bg-gray-800 hover:shadow-xl transition-all duration-300 hover:scale-105 border border-gray-100 dark:border-gray-700">
                        <div class="flex items-center justify-between mb-3">
                            <h3 class="font-semibold text-gray-900 dark:text-white">Account Status</h3>
                            <div class="p-2 rounded-full bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400">
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <div class="w-3 h-3 bg-green-500 rounded-full animate-pulse"></div>
                            <span class="text-sm text-gray-600 dark:text-gray-400 font-medium">Active</span>
                        </div>
                    </div>

                   
        
    <script>
        console.log("Profile");
        
        function toggleTheme() {
            const html = document.documentElement;
            const isDark = html.classList.contains('dark');
            
            if (isDark) {
                html.classList.remove('dark');
                localStorage.setItem('theme', 'light');
            } else {
                html.classList.add('dark');
                localStorage.setItem('theme', 'dark');
            }
        }
        
        // Initialize theme
        function initTheme() {
            const savedTheme = localStorage.getItem('theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            
            if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
                document.documentElement.classList.add('dark');
            }
        }
        
        // Button functions
        function editProfile() {
            // alert('Edit Profile functionality - integrate with your backend');
            // You can redirect to edit page or open a modal
        window.location.href = "/user/contacts/update-profile";
        }
        
        function viewFullProfile() {
            alert('Settings functionality - integrate with your backend');
            // You can redirect to settings page
            // window.location.href = '/settings';
        }
        function viewSettings() {
   window.location.href = "/user/contacts/settings";
}

       
    </script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.js"></script> -->

</body>
</html>